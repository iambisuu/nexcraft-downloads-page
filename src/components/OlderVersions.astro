---
interface Version {
  version: string;
  releaseDate: string;
  changelog: string;
  downloadUrl: string;
}

const previousVersions: Version[] = [
  {
    version: "2.5.1",
    releaseDate: "January 15, 2024",
    changelog: "Bug fixes and performance improvements.",
    downloadUrl: "#"
  },
  {
    version: "2.4.3",
    releaseDate: "November 28, 2023",
    changelog: "New features added, UI enhancements.",
    downloadUrl: "#"
  },
  {
    version: "2.3.0",
    releaseDate: "September 10, 2023",
    changelog: "Security updates and optimizations.",
    downloadUrl: "#"
  }
];
---

<section class="bg-yellow-400 py-12 text-black text-center">
  <h2 class="text-4xl font-bold mb-4">Older Versions</h2>

  <!-- Button to trigger version history -->
  <div class="inline-block relative group">
    <button 
      class="border-2 border-black px-6 py-3 rounded-lg font-bold text-lg transition-all hover:bg-black hover:text-yellow-400"
      id="view-versions-btn"
    >
      View Previous Versions
    </button>

    <!-- Hidden box that appears on hover -->
    <div 
      id="older-versions"
      class="absolute left-1/2 transform -translate-x-1/2 mt-4 w-[80vw] text-white p-6 rounded-lg opacity-0 scale-y-0 origin-top transition-all duration-300 group-hover:opacity-100 group-hover:scale-y-100"
    >
      <div class="flex justify-center gap-6">
        {previousVersions.map((version) => (
          <div class="bg-gray-800 text-white p-4 rounded-lg shadow-md w-64 transition-transform transform hover:scale-105">
            <h3 class="text-xl font-semibold">Version {version.version}</h3>
            <p class="text-gray-400 text-sm">{version.releaseDate}</p>
            <p class="mt-3 text-gray-300">{version.changelog}</p>
            <a href={version.downloadUrl} class="mt-3 inline-block bg-yellow-400 text-black font-bold py-2 px-4 rounded-md hover:bg-yellow-300 transition-all">
              Download
            </a>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>
<script>
  const viewVersionsBtn = document.getElementById("view-versions-btn");
  const olderVersions = document.getElementById("older-versions");

  if (viewVersionsBtn && olderVersions) {
    viewVersionsBtn.addEventListener("mouseenter", function () {
      setTimeout(() => {
        olderVersions.scrollIntoView({ behavior: "smooth", block: "start" });
      }, 200); // Delay to match animation
    });
  }
</script>
